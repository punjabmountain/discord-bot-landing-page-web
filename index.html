<!DOCTYPE html>
<html>
<head>
  <title>Web3 WalletConnect UI</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.5.3/dist/web3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.6.7/dist/web3-provider.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/walletconnect@1.5.2/dist/walletconnect.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethereumjs-util@^5.2.0/dist/ethereumjs-util.min.js"></script>
</head>
<body>
  <h1>Web3 WalletConnect UI</h1>
  <button id="connectButton">Connect Wallet</button>
  <div id="status"></div>

  <script>
    // Initialize Web3 instance
    let web3;

    async function initWeb3() {
      // Check if Web3 is already injected by the browser
      if (window.ethereum) {
        web3 = new Web3(window.ethereum);
      } else {
        // Create a new Web3 instance using WalletConnect
        const provider = new WalletConnectProvider.default({
          infuraId: 'YOUR_INFURA_PROJECT_ID', // Replace with your Infura Project ID
        });
        web3 = new Web3(provider);
        await provider.enable();
      }

      // Check if the current user is connected to a wallet
      if (web3 && web3.currentProvider) {
        // Display the connected wallet address
        const accounts = await web3.eth.getAccounts();
        const address = accounts[0];
        document.getElementById('status').innerHTML = 'Connected with address: ' + address;
      } else {
        document.getElementById('status').innerHTML = 'Not connected to a wallet';
      }
    }

    // Connect wallet button click handler
    document.getElementById('connectButton').addEventListener('click', initWeb3);

    // Smart contract interaction
    async function interactWithContract() {
      const contractAddress = 'YOUR_CONTRACT_ADDRESS'; // Replace with your contract address
      const contractABI = [
        // Replace with your contract ABI
        // Example ABI:
        // {
        //   "constant": false,
        //   "inputs": [
        //     {
        //       "name": "param1",
        //       "type": "uint256"
        //     }
        //   ],
        //   "name": "yourContractFunction",
        //   "outputs": [],
        //   "payable": false,
        //   "stateMutability": "nonpayable",
        //   "type": "function"
        // }
      ];
      const contract = new web3.eth.Contract(contractABI, contractAddress);

      // Example: Call a contract function
      const result = await contract.methods.yourContractFunction(123).send({ from: web3.eth.defaultAccount });

      console.log(result);
    }
  </script>
</body>
</html>
